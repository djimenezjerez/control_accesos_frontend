<div class="col s12">
  <div class="col s12">
    <h5>
      Accesos
    </h5>
  </div>
  <div class="col s4">
    <label for="nuevoFechaIni">Desde</label>
    <input id="nuevoFechaIni" type="date" (ngModelChange)="nuevoFechaIni = $event" [ngModel]="nuevoFechaIni | date: 'y-MM-dd'">
  </div>
  <div class="col s4">
    <label for="nuevoFechaFin">Hasta</label>
    <input id="nuevoFechaFin" type="date" (ngModelChange)="nuevoFechaFin = $event" [ngModel]="nuevoFechaFin | date: 'y-MM-dd'">
  </div>
  <div class="col s4">
    <a id="btnBuscar" class="btn-floating waves-effect waves-light blue" (click)="buscarAccesos(nuevoFechaIni,nuevoFechaFin)">
      <i class="tiny material-icons">search</i>
    </a>
  </div>

  <div *ngIf="(accesos.length === 0);then accesosVacio else accesosContenido"></div>

  <ng-template #accesosVacio>
    <div class="col s12">
      No existen accesos registrados en ese rango de fechas
    </div>
  </ng-template>

  <ng-template #accesosContenido>
    <div class="col s12">
      <table class="centered highlight tablaPersonas">
        <thead>
          <th>Persona</th>
          <th>Puerta</th>
          <th>Fecha/Hora</th>
        </thead>
        <tbody>
          <tr *ngFor="let acceso of accesos">
            <td>{{acceso.Persona.nombre}}</td>
            <td>{{acceso.Puerta.detalle}}</td>
            <td>
              <time>{{acceso.fechaHora | amDateFormat:'LL - hh:mmA' }}</time>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </ng-template>
</div>
